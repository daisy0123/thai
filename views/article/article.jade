extends ../public/layout

block content
    .container-fuild
        .row
            .col-md-4.col-md-offset-4.search-section
                a.text-center(href="/research")
                    h3=title
                div(class="input-group row index-input")
                    input(type="text" class="form-control search-input" placeholder="" aria-describedby="basic-addon2")
                    span(class="input-group-addon span-search" id="basic-addon2")
                        i(class="fa fa-search" aria-hidden="true")

        .row.article-section
            .col-md-10.col-md-offset-1
                -for(var i=0;i<articledata.travel_notes.length;i++)
                    .article-list
                        .project
                            .project__card
                                a(href="/article/content/"+articledata.travel_notes[i].id class="project__image")
                                     img(src=articledata.travel_notes[i].picture height=220 alt=articledata.travel_notes[i].title)
                                .project__detail
                                    h2.project__title
                                        a(href="/article/content/"+articledata.travel_notes[i].id)=articledata.travel_notes[i].title
                                    small.project__category
                                        a(href="/article/content/"+articledata.travel_notes[i].id)=articledata.travel_notes[i].author

            .col-md-10.col-md-offset-1.page-show
                nav(aria-label="Page navigation")
                    ul(class="pagination")
                        if(page>1)
                            li
                                a(href="/article/" + (Number(page) - 1) aria-label="Previous")
                                    span(aria-hidden="true") &laquo;
                            li
                                a(href="/article/"+1 aria-label="Next")
                                    span(aria-hidden="true") 首页
                        if(page<5)
                            -for(var i=1;i<=5;i++)
                                if(i==page)
                                    li
                                        a.active_page(href="/article/"+i)=i
                                else
                                    li
                                        a(href="/article/"+i)=i
                            if(page<=(Number(articledata.page_num)-2))
                                li
                                    a(href="#") ...
                        else if(page>=5)
                            -for(var i=1;i<=2;i++)
                                li
                                    a(href="/article/" + i)=i
                            li
                                a(href="#") ...
                            if((Number(page)+1)==articledata.page_num)
                                -for(var i=(Number(page)-1);i<=articledata.page_num;i++)
                                    if(i==page)
                                        li
                                            a.active_page(href="/article/" + i)=i
                                    else
                                        li
                                            a(href="/article/" + i)=i
                            else if(page==articledata.page_num)
                                -for(var i=(Number(page)-2);i<=articledata.page_num;i++)
                                    if(i == page)
                                        li
                                            a.active_page(href="/article/" + i)=i
                                    else
                                        li
                                            a(href="/article/" + i)=i
                            else
                                -for(var i=(Number(page)-1);i<=(Number(page)+1);i++)
                                    if(i==page)
                                        li
                                            a.active_page(href="/article/" + i)=i
                                    else
                                        li
                                            a(href="/article/" + i)=i
                                li
                                    a(href="#") ...

                        if(page<articledata.page_num)
                            li
                                a(href="/article/" +articledata.page_num aria-label="Next")
                                    span(aria-hidden="true") 末页
                            li
                                a(href="/article/" + (Number(page) + 1) aria-label="Next")
                                    span(aria-hidden="true") &raquo;
